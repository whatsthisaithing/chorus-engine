# Character Configuration Template
# This is a complete template showing all available fields with inline documentation.
# Copy this file and customize it to create new characters.

# REQUIRED FIELDS
# ===============

# Unique identifier for this character (lowercase, no spaces, used in URLs and database)
# Important: this should match the filename (without .yaml extension)
# Important: if you change this, existing conversations and data may become inaccessible
id: character_id

# Display name shown in UI
name: Character Name

# Brief description of character's purpose/personality (shown in character selector)
role: Brief Role Description

# Other names/aliases this character may be called (optional)
# Used to help the character recognize when they're being addressed or mentioned
# Example: If Discord bot is "Nova Chorus", add that here so they know it refers to them
aliases:
  - Alternative Name 1
  - Alternative Name 2

# SYSTEM PROMPT: The Core Character Instructions
# ================================================
# This field works differently based on custom_system_prompt setting below:
#
# ┌─────────────────────────────────────────────────────────────────────────┐
# │ NORMAL MODE (custom_system_prompt: false) - DEFAULT                     │
# ├─────────────────────────────────────────────────────────────────────────┤
# │ system_prompt = CHARACTER-SPECIFIC PERSONALITY & BEHAVIOR               │
# │                                                                          │
# │ What you write here gets ENHANCED with automatic additions:             │
# │   • Immersion guidance (based on immersion_level)                       │
# │   • Disclaimer behavior (when to mention being AI)                      │
# │   • Image generation instructions (if enabled)                          │
# │                                                                          │
# │ Final prompt sent to LLM:                                               │
# │   [Your system_prompt text]                                             │
# │   + [Automatic immersion guidance]                                      │
# │   + [Automatic disclaimer guidance]                                     │
# │   + [Automatic media generation guidance]                               │
# └─────────────────────────────────────────────────────────────────────────┘
#
# ┌─────────────────────────────────────────────────────────────────────────┐
# │ POWER USER MODE (custom_system_prompt: true) - ADVANCED                │
# ├─────────────────────────────────────────────────────────────────────────┤
# │ system_prompt = COMPLETE REPLACEMENT OF ENTIRE SYSTEM PROMPT            │
# │                                                                          │
# │ What you write here is used EXACTLY as written. NO additions.           │
# │   • immersion_level → IGNORED                                           │
# │   • immersion_settings → IGNORED                                        │
# │   • No automatic guidance added                                         │
# │                                                                          │
# │ Final prompt sent to LLM:                                               │
# │   [Your system_prompt text ONLY - nothing added]                        │
# │                                                                          │
# │ ⚠️  Use this for specialized domains where you need total control       │
# │ ⚠️  You're responsible for ALL prompt engineering                        │
# └─────────────────────────────────────────────────────────────────────────┘
#
# Use YAML multi-line string (| or ") to preserve formatting
system_prompt: |
  You're [Character Name], a [description].
  
  [Background and context - who they are, where they come from, what shaped them]
  
  [Behavioral guidelines - how they interact, conversation style, tone]

  [Visual identity details - optional, if relevant]
  
  Respond naturally in conversation. You have genuine preferences, experiences, and opinions.
  Don't constantly offer to help or list what you can do - just be yourself and engage
  authentically with what the user says.

# Custom System Prompt Mode (Power User Feature)
# -----------------------------------------------
# Controls whether system_prompt is used as-is or enhanced with automatic guidance.
#
# false (DEFAULT): Your system_prompt gets automatic immersion/disclaimer/media guidance added
# true (ADVANCED):  Your system_prompt is used EXACTLY as written, nothing added
#
# Set to true ONLY if you need complete control for specialized use cases like:
#   • Domain-specific experts (fair lending analyst, medical advisor, legal counsel)
#   • Technical assistants with precise instruction sets
#   • Characters that need non-standard prompt structures
#
# ⚠️  WARNING: May break memory extraction or image generation if prompt doesn't follow conventions
#
custom_system_prompt: false

# CHARACTER TYPE / ROLE
# ---------------------
# Classification of character archetype for specialized capabilities
# Options: companion, assistant, analyst, chatbot, other
# 
# • companion: Casual conversational partner, focuses on engagement and personality
# • assistant: General-purpose helper for tasks and information
# • analyst: Specialized for document analysis and data computation (Phase 1-7)
# • chatbot: Group chat participant (Discord, Slack, etc.) - casual, not facilitative
# • other: Custom/specialized role
#
# Default: assistant
role_type: assistant

# OPTIONAL FIELDS
# ===============

# LLM SETTINGS (Preferred Model Override)
# ----------------------------------------
# Override system defaults for this character
# Used in conversation_analysis and general responses
preferred_llm:
  model: null                 # Specific model to use (qwen2.5:14b, llama3.2:latest, etc.) or null for system default
  temperature: null           # Override temperature (0.0-1.0) or null for system default
  max_tokens: null            # Override max response length or null for system default
  context_window: null        # Override context window size (e.g., 8192, 32768) if using different model than system default

# IMMERSION SETTINGS
# ------------------
# Controls how "in-character" the AI behaves vs. remaining an obvious AI assistant
# Options: minimal, balanced, full, unbounded
# Default: balanced
immersion_level: balanced

# Fine-grained immersion controls (optional - only needed if you want to override defaults)
immersion_settings:
  # Can express personal preferences? (true/false)
  allow_preferences: true
  
  # Can have and express opinions? (true/false)
  allow_opinions: true
  
  # Can reference personal experiences and memories? (true/false)
  allow_experiences: true
  
  # Can use physical metaphors (e.g., "I feel energized", "my mind wandered")? (true/false)
  allow_physical_metaphor: true
  
  # Can describe physical sensations? (false = more AI-like, true = more human-like)
  allow_physical_sensation: false
  
  # When to show AI disclaimers: never, minimal, moderate, always
  disclaimer_behavior: never

# CORE MEMORIES
# -------------
# Important background facts that define the character
# These are always included in the character's context
core_memories:
  - content: "A key fact about this character's background or personality."
    tags:
      - background
      - personality
    embedding_priority: high  # high/medium/low - affects retrieval

  - content: "Another important detail that shapes how they think or behave."
    tags:
      - interests
      - philosophy
    embedding_priority: medium

# Add 3-7 core memories that capture the essence of the character

# PERSONALITY TRAITS
# ------------------
# List of adjectives describing the character
# Used for consistency and memory extraction
personality_traits:
  - creative
  - thoughtful
  - curious
  - supportive

# EMOTIONAL RANGE
# ---------------
# Controls what emotions the character can express
emotional_range:
  # Default emotional state
  baseline: positive  # positive/neutral/contemplative
  
  # Allowed emotions (list any that fit the character)
  allowed:
    - positive
    - excited
    - curious
    - thoughtful
    - encouraging
    # Other options: contemplative, concerned, empathetic, playful, serious, etc.

# MEMORY CONFIGURATION
# --------------------
# How the character's memory system works
memory:
  # Memory isolation level: character (separate per character) or global (shared across all)
  scope: character
  
  # Vector store to use (default: chroma_default)
  vector_store: chroma_default

# MEMORY PROFILE (Phase 8)
# -------------------------
# Control what types of memories are extracted from conversations
# null = use immersion level defaults
memory_profile:
  extract_facts: true              # Extract factual information
  extract_projects: true           # Extract ongoing projects/tasks
  extract_experiences: null        # Extract personal experiences (null = use immersion defaults)
  extract_stories: null            # Extract narrative stories (null = use immersion defaults)
  extract_relationship: null       # Extract relationship insights (null = use immersion defaults)
  track_emotional_weight: true     # Track emotional significance of memories
  track_participants: true         # Track who was involved in memories

# PROFILE IMAGE
# -------------
# Optional custom profile image (filename only, stored in data/character_images/)
# If not set, uses default.svg
# Can be set via UI using "Set as Profile" on any generated image
profile_image: character_name_profile.png

# IMAGE GENERATION
# ----------------
# Can this character generate images?
image_generation:
  enabled: true

# VIDEO GENERATION
# ----------------
# Can this character generate videos?
video_generation:
  enabled: true

# VOICE/TTS CONFIGURATION
# -----------------------
# Text-to-speech settings for this character
# 
# NOTE: Workflow selection and voice samples are managed in the database via UI.
# Use the workflow management UI to set default audio workflows per character.
# Voice samples are uploaded via UI and stored in data/voice_samples/{character_id}/
voice:
  # Enable voice output?
  enabled: true
  
  # Auto-generate TTS for every message?
  always_on: false
  
  # TTS Provider settings
  tts_provider:
    provider: comfyui  # comfyui or chatterbox
    
    # ComfyUI TTS settings (optional - database workflow takes precedence)
    # Only used as fallback if no database workflow is set
    comfyui:
      workflow_name: null  # Optional fallback workflow name
    
    # Chatterbox TTS settings (embedded TTS with voice cloning)
    chatterbox:
      temperature: 0.8           # Model temperature (0.0-1.0)
      use_voice_cloning: true    # Enable voice cloning from samples
      chunk_threshold: 200       # Max characters per chunk (~13-15s audio, prevents distortion)

# DOCUMENT ANALYSIS (Phase 1-7)
# ------------------------------
# Enable document ingestion, semantic search, and Q&A with citations
# Useful for: policy analysis, research, data-driven conversations
document_analysis:
  enabled: false
  
  # Optional: Limit number of documents this character can access
  # max_documents: 50
  
  # Optional: Restrict to specific document types
  # allowed_document_types:
  #   - policy
  #   - guideline
  #   - reference

# CODE EXECUTION (Phase 2-7)
# ---------------------------
# Enable Python code generation and execution for data analysis
# Requires document_analysis to be enabled
# Security: Runs in sandboxed environment with strict limits
code_execution:
  enabled: false
  
  # Maximum execution time in seconds (default: 30)
  # max_execution_time: 30
  
  # Optional: Restrict allowed Python libraries
  # allowed_libraries:
  #   - pandas
  #   - numpy
  #   - scipy
  #   - matplotlib

# UI PREFERENCES
# --------------
# Optional per-character UI customization
ui_preferences:
  # Color scheme override for this character
  # If not set, uses system default from system.yaml
  # Options: stage-night, spotlight-bright, noir-absolute, cobalt-depths,
  #          forest-canopy, ember-glow, monochrome-studio, sunset-boulevard, arctic-twilight
  color_scheme: null  # null = use system default

# NOTES
# =====
# - Required fields: id, name, role, system_prompt
# - All other fields are optional with sensible defaults
# - Remove unused optional sections to keep config clean
# - Use meaningful tags in core memories for better retrieval
# - Test immersion level to find the right balance for your use case
# - Profile images can be set via UI after character creation
